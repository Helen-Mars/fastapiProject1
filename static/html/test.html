<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bootstrap Alert Example</title>
  <!-- 引入 Bootstrap 样式 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
    <!-- 用于插入警告框的容器 -->
    <div id="alertContainer"></div>

    <button id="submitMessageButton" class="btn btn-primary">提交消息</button>
  </div>

  <!-- 引入 Bootstrap 和 JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    document.getElementById('submitMessageButton').addEventListener('click', function() {
      // 模拟服务器响应
      var response = { ok: true }; // 假设请求成功

      if (response.ok) {
        showAlert("Message submitted successfully!", "success");
      } else {
        showAlert("Failed to submit message.", "danger");
      }
    });

    function showAlert(message, type) {
      // 获取容器元素
      var alertContainer = document.getElementById('alertContainer');

      // 创建警告框元素
      var alertBox = document.createElement('div');
      alertBox.classList.add('alert', `alert-${type}`, 'alert-dismissible', 'fade', 'show');
      alertBox.role = 'alert';
      alertBox.innerHTML = message + 
                           '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>';

      // 将警告框添加到容器中
      alertContainer.appendChild(alertBox);

      // 可选：设置3秒后自动关闭警告框
      setTimeout(function() {
          var bsAlert = new bootstrap.Alert(alertBox);
          bsAlert.close();
      }, 3000);
    }
  </script>
</body>
</html>
